# TODO

- [x] 선택적으로 광고 제품 뿐만 아니라 줄거리/대본도 받기
- [x] 영상 글씨 제거
- [x] 실행마다 영상 덮어쓰기 X -> 폴더를 만들어서 영상 저장
- [x] 인물 일관성 유지
- [x] 프롬프트 구조 확립
- [x] 라스트 씬 이미지 정해져 있고 효과음과 함께 
- [x] Django Admin
- [x] 제품 이미지 업로드 기능
- [x] 제품 링크 안들어가는 문제 해결
- [x] S3에 에셋 ID별로 구분하여 정리
- [x] assets 폴더에 있는 라스트 씬 이미지, 효과음 업로드 기능
- [ ] 단계별로 재작업 기능 추가
  - nano banana: 첫번째 씬의 첫 번째 프레임 다시 제작하기
  - Veo3.1: 첫 번째 씬 다시 제작하기
  - nano banana: 첫번째 씬의 마지막 프레임 다시 제작하기
  - Veo3.1: 두 번째 씬 다시 제작하기
  - last_cta: 이미지, 효과음 다시 업로드하기
  - ffmpeg: 첫 번째 씬 + 두 번째 씬 + last_cta 합치기
- [ ] ffmpeg 자막 기능 추가
  - 스크립트 기반 영상 뽑아서 스크립트 자막 달기
  - STT -> 구조는 우선 순위로 두되, 프롬프트로 적었던 대본을 LLM에게 검증하는 로직을 추가하여 타임 스탬프 제대로 확인
- [ ] 문제
  - [ ] 인물의 대사가 바뀌는 문제
  - [ ] 상품 이미지 주소를 넣었는데 영상에 안 들어가는 문제
    - [ ] https://d2igltf4n6ib86.cloudfront.net/characters/0be0386c-7c7b-4048-96ca-c9902ec4901f/a2040c83-1cd8-4863-b0ae-659174439ee5.jpeg 영양제
  - [ ] 한 노드에서 너무 많은 작업을 처리하는 문제

---

## 개선점

1. 시퀀스를 4개에서 3개로 줄인다. (시퀀스 길이 여유 두자)
2. 현재 시퀀스 2초 4개 고정 -> 화자 단위로 분리 (시퀀스 설명 세분화)
3. 2번째 씬 생성 프롬프트에 이전 씬 설명 추가

## 스토리 캐릭터 쇼츠

1. 캐릭터를 맘대로 넣을 수 있어야 한다.
2. 대본을 잘 인식시켜야 한다.